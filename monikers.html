<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monikers</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body class="bg-gradient-to-br from-pink-50 to-white min-h-screen">
    <div id="app">
        <div class="container mx-auto px-4 py-8">
            <div class="flex justify-between items-center mb-4">
                <a href="index.html" class="bg-pink-200 text-pink-700 px-4 py-2 rounded-lg hover:bg-pink-300">‚Üê Back to Home</a>
                <button onclick="openRulesModal()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">Rules</button>
            </div>
            <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-4 sm:p-8 text-center">
                <h2 class="text-2xl sm:text-3xl font-bold text-pink-600 mb-6">üé≠ Monikers</h2>
                
                <div v-if="!gameStarted" class="space-y-4">
                    <p class="text-gray-700">3 rounds of guessing the same cards with different rules!</p>
                    <button @click="startGame" class="bg-pink-500 text-white px-8 py-3 rounded-lg hover:bg-pink-600 text-lg font-bold">Start Game</button>
                </div>

                <div v-if="gameStarted" class="space-y-6">
                    <div class="bg-pink-100 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-pink-700 mb-2">Round {{ currentRound }}: {{ roundName }}</h3>
                        <p class="text-pink-600">{{ roundDescription }}</p>
                        <div class="mt-2 text-sm text-pink-500">Card {{ currentCardIndex + 1 }} of {{ cards.length }}</div>
                    </div>

                    <div class="bg-gray-100 p-6 rounded-lg min-h-32">
                        <div v-if="showCard" class="text-lg sm:text-xl font-bold text-gray-800 leading-relaxed">
                            {{ currentCard }}
                        </div>
                        <div v-else class="text-gray-500 italic">
                            Card hidden - click Show to reveal
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-2 mb-4">
                        <button @click="showCard = false" class="bg-pink-500 text-white px-3 py-2 rounded-lg hover:bg-pink-600">Hide</button>
                        <button @click="showCard = true" class="bg-pink-500 text-white px-3 py-2 rounded-lg hover:bg-pink-600">Show</button>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <button @click="gotIt" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 text-lg font-bold">Got it! üéâ</button>
                        <button @click="nextCard" class="bg-gray-400 text-white px-6 py-3 rounded-lg hover:bg-gray-500 text-lg font-bold">Skip ‚Üí</button>
                    </div>

                    <div v-if="roundComplete" class="mt-6 p-4 bg-green-100 rounded-lg">
                        <p class="text-green-700 font-bold">Round {{ currentRound }} Complete!</p>
                        <button v-if="currentRound < 3" @click="nextRound" class="mt-2 bg-pink-500 text-white px-6 py-3 rounded-lg hover:bg-pink-600">Next Round ‚Üí</button>
                        <button v-else @click="endGame" class="mt-2 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600">Game Complete! üéä</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rulesModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl p-4 sm:p-8 max-w-2xl mx-4 relative">
            <button onclick="closeRulesModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            <h2 class="text-2xl sm:text-3xl font-bold text-pink-600 mb-6 text-center">üé≠ Monikers Rules</h2>
            <div class="text-left space-y-4">
                <p class="text-lg text-gray-700"><strong>How to Play:</strong></p>
                <ul class="list-disc list-inside text-gray-700 space-y-2">
                    <li><strong>Round 1:</strong> Describe the card using any words (no names)</li>
                    <li><strong>Round 2:</strong> Use only ONE word to describe the card</li>
                    <li><strong>Round 3:</strong> Only gestures and sounds - no words!</li>
                    <li>Same cards are used in all 3 rounds</li>
                    <li>Use Hide/Show to control when others see the card</li>
                    <li>Hit "Got it!" when guessed correctly, "Skip" to move on</li>
                </ul>
                <p class="text-sm text-gray-600 mt-4"><em>Gets easier each round as you remember the cards!</em></p>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    cards: [],
                    currentCardIndex: 0,
                    currentRound: 1,
                    gameStarted: false,
                    showCard: false,
                    roundComplete: false,
                    completedCards: []
                }
            },
            computed: {
                currentCard() {
                    return this.cards[this.currentCardIndex] || '';
                },
                roundName() {
                    const names = ['', 'Describe It', 'One Word', 'Charades'];
                    return names[this.currentRound];
                },
                roundDescription() {
                    const descriptions = ['', 
                        'Use any words to describe (no names)', 
                        'Only ONE word allowed', 
                        'Only gestures and sounds'
                    ];
                    return descriptions[this.currentRound];
                }
            },
            methods: {
                async loadCards() {
                    const cardSets = [
                        // TV Characters
                        'Jake Peralta (Brooklyn Nine-Nine)', 'Amy Santiago (Brooklyn Nine-Nine)', 'Charles Boyle (Brooklyn Nine-Nine)', 'Rosa Diaz (Brooklyn Nine-Nine)',
                        'Jess Day (New Girl)', 'Nick Miller (New Girl)', 'Schmidt (New Girl)', 'Winston Bishop (New Girl)',
                        'Rachel Green (Friends)', 'Monica Geller (Friends)', 'Phoebe Buffay (Friends)', 'Joey Tribbiani (Friends)', 'Chandler Bing (Friends)',
                        'Michael Scott (The Office)', 'Jim Halpert (The Office)', 'Pam Beesly (The Office)', 'Dwight Schrute (The Office)',
                        // Family & Friends
                        'Steph', 'Charlie', 'Grisha', 'Hannah', 'Sampath', 'Sumyukta\'s Dad', 'Sumyukta\'s Mum',
                        // Food Items
                        'Gulab Jamun', 'Pad Kee Mao', 'Pistachio Ice Cream', 'Mochi', 'Iced Chai', 'Hot Chocolate',
                        // Artists
                        'Taylor Swift', 'Ed Sheeran', 'Sabrina Carpenter', 'Laufey',
                        // Activities
                        'Crocheting', 'Going for a picnic', 'Watching rom-coms', 'Playing tennis', 'Baking', 'Gardening',
                        // Generic additions
                        'Batman', 'Wonder Woman', 'Spider-Man', 'Pizza', 'Coffee', 'Dancing', 'Swimming'
                    ];
                    
                    // Shuffle and take 15 cards
                    this.cards = cardSets.sort(() => Math.random() - 0.5).slice(0, 15);
                },
                startGame() {
                    this.gameStarted = true;
                    this.currentRound = 1;
                    this.currentCardIndex = 0;
                    this.roundComplete = false;
                    this.showCard = false;
                    this.completedCards = [];
                },
                gotIt() {
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 }
                    });
                    this.completedCards.push(this.currentCardIndex);
                    this.nextCard();
                },
                nextCard() {
                    if (this.currentCardIndex < this.cards.length - 1) {
                        this.currentCardIndex++;
                        this.showCard = false;
                    } else {
                        this.roundComplete = true;
                    }
                },
                nextRound() {
                    this.currentRound++;
                    this.currentCardIndex = 0;
                    this.roundComplete = false;
                    this.showCard = false;
                },
                endGame() {
                    confetti({
                        particleCount: 200,
                        spread: 100,
                        origin: { y: 0.6 }
                    });
                    this.gameStarted = false;
                }
            },
            mounted() {
                this.loadCards();
            }
        }).mount('#app');

        function openRulesModal() {
            document.getElementById('rulesModal').classList.remove('hidden');
            document.getElementById('rulesModal').classList.add('flex');
        }

        function closeRulesModal() {
            document.getElementById('rulesModal').classList.add('hidden');
            document.getElementById('rulesModal').classList.remove('flex');
        }

        document.getElementById('rulesModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeRulesModal();
            }
        });
    </script>
</body>
</html>
